<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Ballen&#39;s blog</title>
    <link>http://ballen.club/</link>
    
    <atom:link href="/rss2.html" rel="self" type="application/rss+xml"/>
    
    <description>web前端养成日记</description>
    <pubDate>Tue, 07 Apr 2020 03:21:41 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Mysql中Not NUll插入的问题</title>
      <link>http://ballen.club/2020/04/07/Mysql-Not-Nll/</link>
      <guid>http://ballen.club/2020/04/07/Mysql-Not-Nll/</guid>
      <pubDate>Tue, 07 Apr 2020 02:17:36 GMT</pubDate>
      <description>
      
        
        
          &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
        
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Not-Null"><a href="#Not-Null" class="headerlink" title="Not Null"></a>Not Null</h2><p>NOT NULL 约束强制列不接受 NULL 值。<br>NOT NULL 约束强制字段始终包含值。这意味着，当字段没有设置默认值并且不向字段添加值的时候，就无法插入新记录或者更新记录。</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="查看字段属性"><a href="#查看字段属性" class="headerlink" title="查看字段属性"></a>查看字段属性</h3><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/Ballen-web/CDN/mysql/mysql-not-null_01.png"  alt=""></p><p>ename 字段中设置约束NOT NULL 并没有设置默认值DEFAULT；</p><h3 id="向表中插入值"><a href="#向表中插入值" class="headerlink" title="向表中插入值"></a>向表中插入值</h3><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/Ballen-web/CDN/mysql/mysql-not-null_02.png"  alt=""><br><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/Ballen-web/CDN/mysql/mysql-not-null_03.png"  alt=""></p><p>明明已经在ename字段设置了NOT NULL 也没有默认值，为什么会插入成功呢，不应该报错的吗？？？小问号，你是不是也有很多小朋友。</p><h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p>mysql 5.6  插入记录 如果有非空字段没有值 而且没有设置默认值 ，插入失败<br>mysql 5.5  插入记录 如果有非空字段没有值 而且没有设置默认值 ，插入成功<br>原来时mysql的sql_mode的设置问题</p><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/Ballen-web/CDN/mysql/mysql-not-null_04.png"  alt=""></p><h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>打开 MySQL 配置文件 my.cnf（windows为my.ini)。<br>搜索 sql-mode 如果搜索不到就代表 非严格模式 。<br>搜索到了就代表开启了严格模式，例如：<br>sql-mode=NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</p><h3 id="开启-关闭严格模式"><a href="#开启-关闭严格模式" class="headerlink" title="开启 关闭严格模式"></a>开启 关闭严格模式</h3><h4 id="开启严格模式"><a href="#开启严格模式" class="headerlink" title="开启严格模式"></a>开启严格模式</h4><p>Mysql/bin/my.ini #编辑mysql配置文件<br>搜索sql-mode关键字，若没有，在文件尾添加一行<br>替换成：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sql-mode&#x3D;NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIO</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart #重启mysql</span><br></pre></td></tr></table></figure><h4 id="关闭严格模式"><a href="#关闭严格模式" class="headerlink" title="关闭严格模式"></a>关闭严格模式</h4><p>Mysql/bin/my.ini # 编辑mysql配置文件<br>搜索sql-mode关键字。注释<br>sql-mode相关语句</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#sql-mode&#x3D;NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTIO</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart # 重启mysql</span><br></pre></td></tr></table></figure><p><strong>如果sql_mode 没有设置STRICI_TRANS_TABLES</strong>,<strong>则在插入记录时</strong>,<strong>如果有非空字段没有值 而且没有设置默认值</strong>,<strong>则引擎会自动填充（int类型 填充0  string类型 填充 ‘’  timestamp 类型填充 当前时间戳（2020-04-02 19:54:52）</strong></p><p><img src="/" class="lazyload" data-src="https://cdn.jsdelivr.net/gh/Ballen-web/CDN/mysql/mysql-not-null_05.png"  alt=""></p>]]></content:encoded>
      
      <comments>http://ballen.club/2020/04/07/Mysql-Not-Nll/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Hello World</title>
      <link>http://ballen.club/2020/04/07/hello-world/</link>
      <guid>http://ballen.club/2020/04/07/hello-world/</guid>
      <pubDate>Mon, 06 Apr 2020 17:02:39 GMT</pubDate>
      <description>
      
        
        
          &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
        
      
      </description>
      
      
      <content:encoded><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content:encoded>
      
      <comments>http://ballen.club/2020/04/07/hello-world/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
